<div class="container mt-5" *ngIf="rutina">
  <div class="text-center mb-4">
    <h2 class="display-6">{{ rutina.nombre }}</h2>
    <p class="lead">{{ rutina.descripcion }}</p>
  </div>

  <div *ngFor="let dia of dias; let i = index" class="card shadow-sm p-4 mb-4">
    <div class="d-flex justify-content-between align-items-center">
      <h4 class="card-title mb-0">
        DÃ­a {{ i + 1 }}: {{ dia.nombre }}
      </h4>
      <div (click)="toggleDayVisibility(i)" style="cursor: pointer;">
        <span *ngIf="!isDayVisible[i]">ðŸ”½</span>
        <span *ngIf="isDayVisible[i]">ðŸ”¼</span>
      </div>
    </div>

    <div *ngIf="isDayVisible[i]" class="mt-3">
      <p>{{ dia.descripcion || 'Sin descripciÃ³n' }}</p>

      <div *ngIf="dia.ejerciciosRepeticiones.length > 0" class="mt-4">
        <h5>Ejercicios de series y repeticiones:</h5>
        <ul class="list-group">
          <li *ngFor="let ejercicio of dia.ejerciciosRepeticiones; let j = index"
              class="list-group-item d-flex justify-content-between align-items-center">
            <span>{{ j + 1 }}. {{ ejercicio.nombre }} - {{ ejercicio.descripcion }} ({{ ejercicio.series }} series, {{ ejercicio.repeticiones }} repeticiones)</span>
          </li>
        </ul>
      </div>

      <div *ngIf="dia.ejerciciosTiempo.length > 0" class="mt-4">
        <h5>Ejercicios de resistencia:</h5>
        <ul class="list-group">
          <li *ngFor="let ejercicio of dia.ejerciciosTiempo; let k = index"
              class="list-group-item d-flex justify-content-between align-items-center">
            <span>{{ k + 1 }}. {{ ejercicio.nombre }} - {{ ejercicio.descripcion }} ({{ ejercicio.tiempo }} tiempo)</span>
          </li>
        </ul>
      </div>

      <div *ngIf="dia.ejerciciosRepeticiones.length === 0 && dia.ejerciciosTiempo.length === 0" class="mt-4">
        <p class="text-muted">Este dÃ­a no tiene ejercicios asignados.</p>
      </div>
    </div>
  </div>

  <!-- BotÃ³n central para iniciar la rutina -->
  <div class="text-center mt-5">
    <button class="btn btn-success btn-lg" (click)="iniciarRutina()">
      Iniciar rutina
    </button>
  </div>
</div>
