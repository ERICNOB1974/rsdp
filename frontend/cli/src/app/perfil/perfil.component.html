<div class="perfil-container">
    <div class="perfil-header">
        <h2>Mi Perfil</h2>
    </div>

    <div class="perfil-info">
        <div class="perfil-avatar">
            <img src="path_to_avatar" alt="Foto de perfil" class="avatar" />
        </div>
        <div class="perfil-details">
            <h2>{{ usuario.nombreUsuario }}</h2>
            <p class="descripcion">{{ usuario.descripcion }}</p>

            <!-- Si es mi perfil, muestra el bot贸n de editar -->
            <button *ngIf="esMiPerfil" class="btn-editar" (click)="editarPerfil()">Editar perfil</button>

            <!-- Si no es mi perfil -->
            <div *ngIf="!esMiPerfil">
                <!-- Caso 1: No son amigos, muestra bot贸n para enviar solicitud -->
                <button *ngIf="relacion === 'noSonAmigos'" class="btn-solicitud" (click)="enviarSolicitudDeAmistad()">
                    Enviar solicitud de amistad
                </button>

                <!-- Caso 2: Ya son amigos, muestra texto de 'Amigos' (no clickeable) -->
                <button *ngIf="relacion === 'amigos'" class="btn-eliminar-amigo" (click)="eliminarAmigo()">
                    Eliminar amigo
                </button>
                <!-- Caso 3: Solicitud ya enviada, muestra bot贸n no clickeable -->
                <button *ngIf="relacion === 'solicitudEnviada'" class="btn-cancelar-solicitud" (click)="cancelarSolicitudDeAmistad()">
                    Cancelar solicitud de amistad
                </button>

                <!-- Caso 4: Solicitud pendiente, muestra botones para aceptar/rechazar -->
                <div *ngIf="relacion === 'solicitudPendiente'">
                    <button class="btn-aceptar" (click)="gestionarSolicitud(true)">Aceptar</button>
                    <button class="btn-rechazar" (click)="gestionarSolicitud(false)">Rechazar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="perfil-publicaciones">
        <h3>Publicaciones</h3>
        <div class="publicaciones-grid">
            <div class="publicacion-item" *ngFor="let publicacion of publicaciones" (click)="irADetallePublicacion(publicacion.id)">
                <div class="publicacion-contenido">
                    <p>{{ publicacion.texto }}</p>

                    <div *ngIf="publicacion.file && publicacion.file.startsWith('data:image')">
                        <img [src]="publicacion.file" alt="Imagen de la publicaci贸n" class="publicacion-imagen">
                    </div>

                    <div *ngIf="publicacion.file && publicacion.file.startsWith('data:video')">
                        <video [src]="publicacion.file" controls class="publicacion-video"></video>
                    </div>

                    <div class="publicacion-fecha">
                        {{ publicacion.fechaDeCreacion | date:'medium' }}
                    </div>
                </div>

                <button *ngIf="esMiPerfil" (click)="confirmarEliminarPublicacion(publicacion.id)" class="btn-eliminar">
                    Eliminar
                </button>
            </div>
        </div>

    </div>

</div>