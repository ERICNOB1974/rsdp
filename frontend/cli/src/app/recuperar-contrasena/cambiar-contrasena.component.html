<div class="wrap-registro">
  <div class="container">
    <form [formGroup]="contrasenaForm" (ngSubmit)="onSubmit()">
      <mat-card-header>
        <h2>Cambiar contraseña</h2>
      </mat-card-header>
      <mat-card class="registro-box">

        <mat-card-content>

          <mat-form-field appearance="outline">
            <mat-label>Nueva contraseña</mat-label>
            <input matInput type="password" formControlName="nuevaContrasena" required>
            <mat-error *ngIf="contrasenaForm.get('nuevaContrasena')?.hasError('required')">
              La nueva contraseña es requerida
            </mat-error>
            <mat-error *ngIf="contrasenaForm.get('nuevaContrasena')?.hasError('minlength')">
              La nueva contraseña debe tener al menos 8 caracteres
            </mat-error>
            <mat-error *ngIf="contrasenaForm.get('nuevaContrasena')?.hasError('pattern')">
              La nueva contraseña debe tener al menos una letra mayúscula y un número
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Confirmar nueva contraseña</mat-label>
            <input matInput type="password" formControlName="confirmarContrasena" required>
            <mat-error *ngIf="contrasenaForm.get('confirmarContrasena')?.hasError('required')">
              Confirmar nueva contraseña es requerido
            </mat-error>
            <mat-error *ngIf="contrasenaForm.get('confirmarContrasena')?.hasError('mismatch')">
              Las contraseñas no coinciden
            </mat-error>
          </mat-form-field>          
        </mat-card-content>      

        <mat-card-actions>
          <button mat-flat-button color="accent" class="btn-right" (click)="goBack()">Atrás</button>
          <button mat-raised-button color="primary" type="submit" class="btn-left" [disabled]="!contrasenaForm.valid">
            Cambiar contraseña
          </button>
        </mat-card-actions>

      </mat-card>
    </form>
  </div>
</div>
