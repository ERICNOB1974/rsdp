<div class="form-container">
    <h2>Crear Nuevo Evento</h2>
    <form #form="ngForm" class="evento-form">
  
      <div class="form-group">
        <label for="nombre">Nombre del Evento</label>
        <input [(ngModel)]="evento.nombre" type="text" name="nombre" required>
      </div>
  
      <div class="form-group">
        <label for="evento.fechaHora">Fecha y Hora del Evento</label>
        <input type="datetime-local" id="fechaHora" [(ngModel)]="evento.fechaHora" name="fechaHora"
          [min]="minFechaHora" required>
      </div>
  
      <div class="form-group">
        <label for="descripcion">Descripción</label>
        <input [(ngModel)]="evento.descripcion" name="descripcion">
      </div>
  
      <div class="form-group">
        <label for="cantidadMaximaParticipantes">Cantidad Máxima de Participantes</label>
        <input type="number" min="1" [(ngModel)]="evento.cantidadMaximaParticipantes" name="cantidadMaximaParticipantes"
          required>
      </div>
  
      <div class="form-group">
        <label for="etiquetas">Buscar Etiquetas:</label>
        <input id="etiquetas" type="text" class="form-control" [(ngModel)]="etiquetaSeleccionada"
          [ngbTypeahead]="searchEtiqueta" [resultFormatter]="resultFormatEtiqueta"
          [inputFormatter]="inputFormatEtiqueta" (selectItem)="agregarEtiqueta($event)" name="etiquetaSeleccionada"
          placeholder="Buscar etiqueta" />
      </div>
  
      <div *ngIf="etiquetasSeleccionadas.length > 0" class="etiquetas-lista">
        <h4>Etiquetas seleccionadas:</h4>
        <ul class="list-group">
          <li *ngFor="let etiqueta of etiquetasSeleccionadas" class="list-group-item d-flex justify-content-between align-items-center">
            {{ etiqueta.nombre }}
            <button type="button" class="btn btn-danger btn-sm" (click)="eliminarEtiqueta(etiqueta)">Eliminar</button>
          </li>
        </ul>
      </div>
  
      <!-- Sección de búsqueda de direcciones y mapa -->
      <div class="mapa-container">
        <div class="input-container">
          <label for="direccion">Ubicación del Evento</label>
          <input type="text" class="form-control" placeholder="Ingresa una dirección" (input)="buscarDireccion($event)" />
          <ul *ngIf="sugerencias.length > 0" class="list-group">
            <li *ngFor="let sugerencia of sugerencias" (click)="seleccionarDireccion(sugerencia)"
              class="list-group-item list-group-item-action" style="cursor: pointer;">
              {{ sugerencia.direccion }} - {{ sugerencia.altura }}, {{ sugerencia.ciudad }}, {{ sugerencia.pais }}
            </li>
          </ul>
        </div>
  
        <div class="form-group">
          <div id="map"></div>
        </div>
      </div>
  
      <div class="form-buttons">
        <button type="button" (click)="saveEvento()" class="btn btn-success" [disabled]="!form.valid">Guardar Evento</button>
        <button type="button" (click)="cancel()" class="btn btn-secondary">Cancelar</button>
      </div>
    </form>
  </div>
  